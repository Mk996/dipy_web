{"parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "DIPY Workflows Interfaces"}], "prev": {"link": "../basic_flow/", "title": "Introduction to command line interfaces"}, "next": {"link": "../bundle_segmentation_flow/", "title": "White Matter Bundle Segmentation with RecoBundles"}, "title": "BUndle ANalytics (BUAN) framework", "meta": {}, "body": "<div class=\"section\" id=\"bundle-analytics-buan-framework\">\n<span id=\"buan-flow\"></span><h1>BUndle ANalytics (BUAN) framework<a class=\"headerlink\" href=\"#bundle-analytics-buan-framework\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>This tutorial walks through the steps for reproducing Bundle Analytics <a class=\"footnote-reference brackets\" href=\"#id7\" id=\"id1\">1</a> <a class=\"footnote-reference brackets\" href=\"#id8\" id=\"id2\">2</a>\nresults on Parkinson\u2019s Progression Markers Initiative (PPMI) <a class=\"footnote-reference brackets\" href=\"#id9\" id=\"id3\">3</a> data derivatives.\nBundle Analytics is a framework for comparing bundle profiles and shapes of\ndifferent groups. In this example, we will be comparing healthy controls and\npatients with parkinson\u2019s disease. We will be using PPMI data derivatives generated\nusing DIPY <a class=\"footnote-reference brackets\" href=\"#id10\" id=\"id4\">4</a>.</p>\n<p>First we need to download streamline atlas <a class=\"footnote-reference brackets\" href=\"#id11\" id=\"id5\">5</a> with 30 white matter bundles\nin MNI space from</p>\n<blockquote>\n<div><p><a class=\"reference external\" href=\"https://figshare.com/articles/Atlas_of_30_Human_Brain_Bundles_in_MNI_space/12089652\">https://figshare.com/articles/Atlas_of_30_Human_Brain_Bundles_in_MNI_space/12089652</a></p>\n</div></blockquote>\n<p>For this tutorial we will be using a test sample of DIPY Processed Parkinson\u2019s\nProgression Markers Initiative (PPMI) Data Derivatives. It can be downloaded\nfrom the link below</p>\n<blockquote>\n<div><p><a class=\"reference external\" href=\"https://doi.org/10.35092/yhjc.12098397\">https://doi.org/10.35092/yhjc.12098397</a></p>\n</div></blockquote>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>If you prefer to run experiments on the complete dataset to reproduce the paper <a class=\"footnote-reference brackets\" href=\"#id7\" id=\"id6\">1</a>\nplease see the \u201cReproducing results on larger dataset\u201d section at end of\nthe page for more information.</p>\n</div>\n<p>There are two parts of Bundle Analytics group comparison framework,\nbundle profile analysis and bundle shape similarity analysis.</p>\n<div class=\"section\" id=\"group-comparison-of-bundle-profiles\">\n<h2>Group Comparison of Bundle Profiles<a class=\"headerlink\" href=\"#group-comparison-of-bundle-profiles\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>For generating bundle profile data (saved as .h5 files):\nYou must have downloaded bundles folder of 30 atlas bundles and subjects folder\nwith PPMI data derivatives.</p>\n<p>Following workflows require specific input directory structure but don\u2019t worry\nas data you downloaded is already in the required format. We will be using <code class=\"docutils literal notranslate\"><span class=\"pre\">bundles</span></code>\nfolder you downloaded from streamline atlas link and <code class=\"docutils literal notranslate\"><span class=\"pre\">subjects_small</span></code> folder\ndownloaded from test data link.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Make sure all the output folders are empty and do not get overridden.</p>\n</div>\n<p>Create an <code class=\"docutils literal notranslate\"><span class=\"pre\">out_dir</span></code> folder (eg: bundle_profiles):</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">mkdir</span> <span class=\"n\">bundle_profiles</span>\n</pre></div>\n</div>\n<p>Run the following workflow:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dipy_buan_profiles</span> <span class=\"n\">bundles</span><span class=\"o\">/</span> <span class=\"n\">subjects_small</span><span class=\"o\">/</span> <span class=\"o\">--</span><span class=\"n\">out_dir</span> <span class=\"s2\">&quot;bundle_profiles&quot;</span>\n</pre></div>\n</div>\n<p>For running Linear Mixed Models (LMM) on generated .h5 files from the previous\nstep:</p>\n<p>Create an <code class=\"docutils literal notranslate\"><span class=\"pre\">out_dir</span></code> folder (eg: lmm_plots):</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">mkdir</span> <span class=\"n\">lmm_plots</span>\n</pre></div>\n</div>\n<p>And run the following workflow:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dipy_buan_lmm</span> <span class=\"s2\">&quot;bundle_profiles/*&quot;</span> <span class=\"o\">--</span><span class=\"n\">out_dir</span> <span class=\"s2\">&quot;lmm_plots&quot;</span>\n</pre></div>\n</div>\n<p>This workflow will generate 30 bundles group comparison plots per anatomical measures.\nPlots will look like the following example:</p>\n<div class=\"figure align-center\" id=\"id12\">\n<a class=\"reference internal image-reference\" href=\"https://github.com/dipy/dipy_data/blob/master/AF_L_fa.png?raw=true\"><img alt=\"alternate text\" src=\"https://github.com/dipy/dipy_data/blob/master/AF_L_fa.png?raw=true\" style=\"width: 70%;\" /></a>\n<p class=\"caption\"><span class=\"caption-text\">Result plot for left arcuate fasciculus (AF_L) on FA measure</span><a class=\"headerlink\" href=\"#id12\" title=\"Permalink to this image\">\u00b6</a></p>\n</div>\n</div>\n<div class=\"section\" id=\"shape-similarity-of-specific-bundles-across-the-populations\">\n<h2>Shape similarity of specific bundles across the populations<a class=\"headerlink\" href=\"#shape-similarity-of-specific-bundles-across-the-populations\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Create an <code class=\"docutils literal notranslate\"><span class=\"pre\">out_dir</span></code> folder (eg: sm_plots):</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">mkdir</span> <span class=\"n\">sm_plots</span>\n</pre></div>\n</div>\n<p>Run the following workflow:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dipy_buan_shapes</span> <span class=\"n\">subjects_small</span><span class=\"o\">/</span> <span class=\"o\">--</span><span class=\"n\">out_dir</span> <span class=\"s2\">&quot;sm_plots&quot;</span>\n</pre></div>\n</div>\n<p>This workflow will generate 30 bundles shape similarity plots. Shape similarity\nscore ranges between 0-1, where 1 being highest similarity and 0 being lowest.\nPlots will look like the following example:</p>\n<div class=\"figure align-center\" id=\"id13\">\n<a class=\"reference internal image-reference\" href=\"https://github.com/dipy/dipy_data/blob/master/SM_moved_UF_R__recognized.png?raw=true\"><img alt=\"alternate text\" src=\"https://github.com/dipy/dipy_data/blob/master/SM_moved_UF_R__recognized.png?raw=true\" style=\"width: 70%;\" /></a>\n<p class=\"caption\"><span class=\"caption-text\">Result plot for right uncinate fasciculus (UF_R) for 10 subjects.\nFirst 5 subjects belong to the healthy control group and last 5 subjects belong to patient group.\nIn the diagonal, we have shape similarity score of 1 as it is calculated between a bundle and itself.</span><a class=\"headerlink\" href=\"#id13\" title=\"Permalink to this image\">\u00b6</a></p>\n</div>\n</div>\n<div class=\"section\" id=\"reproducing-results-on-larger-dataset\">\n<h2>Reproducing results on larger dataset:<a class=\"headerlink\" href=\"#reproducing-results-on-larger-dataset\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Complete dataset of DIPY Processed Parkinson\u2019s Progression Markers Initiative (PPMI)\nData Derivatives can be downloaded from the link below:</p>\n<blockquote>\n<div><p><a class=\"reference external\" href=\"https://doi.org/10.35092/yhjc.12033390\">https://doi.org/10.35092/yhjc.12033390</a></p>\n</div></blockquote>\n<p>Please note this is a large data file and might take some time to run. If you\nonly want to test the workflows use the test sample data.</p>\n<p>All steps will be the same as mentioned above except this time the data donwloaded\nwill have different folder name <code class=\"docutils literal notranslate\"><span class=\"pre\">subjects</span></code> instead of <code class=\"docutils literal notranslate\"><span class=\"pre\">subjects_small</span></code>.</p>\n<p>For more information about each command line, you can go to\n<a class=\"reference external\" href=\"https://github.com/dipy/dipy/blob/master/dipy/workflows/stats.py\">https://github.com/dipy/dipy/blob/master/dipy/workflows/stats.py</a></p>\n<p>If you are using any of these commands do cite the relevant papers.</p>\n<dl class=\"footnote brackets\">\n<dt class=\"label\" id=\"id7\"><span class=\"brackets\">1</span><span class=\"fn-backref\">(<a href=\"#id1\">1</a>,<a href=\"#id6\">2</a>)</span></dt>\n<dd><p>Paper submitted for review</p>\n</dd>\n<dt class=\"label\" id=\"id8\"><span class=\"brackets\"><a class=\"fn-backref\" href=\"#id2\">2</a></span></dt>\n<dd><p>Chandio, B.Q., S. Koudoro, D. Reagan, J. Harezlak,\nE. Garyfallidis, Bundle Analytics: a computational and statistical\nanalyses framework for tractometric studies, Proceedings of:\nInternational Society of Magnetic Resonance in Medicine (ISMRM),\nMontreal, Canada, 2019.</p>\n</dd>\n<dt class=\"label\" id=\"id9\"><span class=\"brackets\"><a class=\"fn-backref\" href=\"#id3\">3</a></span></dt>\n<dd><p>Marek, Kenneth and Jennings, Danna and Lasch, Shirley and Siderowf,\nAndrew and Tanner, Caroline and Simuni, Tanya and Coffey, Chris and Kieburtz,\nKarl and Flagg, Emily and Chowdhury, Sohini and others.\nThe parkinson progression marker initiative (PPMI).\nProgress in neurobiology, 2011.</p>\n</dd>\n<dt class=\"label\" id=\"id10\"><span class=\"brackets\"><a class=\"fn-backref\" href=\"#id4\">4</a></span></dt>\n<dd><p>Garyfallidis, E., M. Brett, B. Amirbekian, A. Rokem,\nS. Van Der Walt, M. Descoteaux, and I. Nimmo-Smith.\n\u201cDIPY, a library for the analysis of diffusion MRI data\u201d.\nFrontiers in Neuroinformatics, 1-18, 2014.</p>\n</dd>\n<dt class=\"label\" id=\"id11\"><span class=\"brackets\"><a class=\"fn-backref\" href=\"#id5\">5</a></span></dt>\n<dd><p>Yeh F.C., Panesar S., Fernandes D., Meola A., Yoshino M.,\nFernandez-Miranda J.C., Vettel J.M., Verstynen T.\nPopulation-averaged atlas of the macroscale human structural\nconnectome and its network topology.\nNeuroimage, 2018.</p>\n</dd>\n</dl>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["interfaces/bundle_segmentation_flow", "White Matter Bundle Segmentation with RecoBundles", "N", "next"], ["interfaces/basic_flow", "Introduction to command line interfaces", "P", "previous"]], "sourcename": "interfaces/buan_flow.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">BUndle ANalytics (BUAN) framework</a><ul>\n<li><a class=\"reference internal\" href=\"#group-comparison-of-bundle-profiles\">Group Comparison of Bundle Profiles</a></li>\n<li><a class=\"reference internal\" href=\"#shape-similarity-of-specific-bundles-across-the-populations\">Shape similarity of specific bundles across the populations</a></li>\n<li><a class=\"reference internal\" href=\"#reproducing-results-on-larger-dataset\">Reproducing results on larger dataset:</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "interfaces/buan_flow", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.12"}